-- Organized in sections:
-- 1. Formatted Strings
-- 2. Numbers
-- 3. Flags
-- 4. Fractions
-- 5. Relative Dates
-- 6. Misc

CREATE TABLE dbo.DimDate (
  DateKey int NOT NULL,
  TheDate date NOT NULL,
  ISODateName varchar(10) NOT NULL,
  AmericanDateName varchar(10) NOT NULL,
  DayOfWeekName varchar(9) NOT NULL,
  DayOfWeekAbbrev varchar(3) NOT NULL,
  MonthName varchar(9) NOT NULL,
  MonthAbbrev varchar(3) NOT NULL,
  YearWeekName varchar(8) NOT NULL,
  YearMonthName varchar(7) NOT NULL,
  MonthYearName varchar(8) NOT NULL,
  YearQuarterName varchar(6) NOT NULL,
  Year int NOT NULL,
  YearWeek int NOT NULL,
  ISOYearWeekCode int NOT NULL,
  YearMonth int NOT NULL,
  YearQuarter int NOT NULL,
  DayOfWeekStartingMonday int NOT NULL,
  DayOfWeek int NOT NULL,
  DayOfMonth int NOT NULL,
  DayOfQuarter int NOT NULL,
  DayOfYear int NOT NULL,
  WeekOfQuarter int NOT NULL,
  WeekOfYear int NOT NULL,
  ISOWeekOfYear int NOT NULL,
  Month int NOT NULL,
  MonthOfQuarter int NOT NULL,
  Quarter int NOT NULL,
  DaysInMonth int NOT NULL,
  DaysInQuarter int NOT NULL,
  DaysInYear int NOT NULL,
  DayOffsetFromToday int NOT NULL,
  MonthOffsetFromToday int NOT NULL,
  QuarterOffsetFromToday int NOT NULL,
  YearOffsetFromToday int NOT NULL,
  TodayFlag bit NOT NULL,
  CurrentWeekStartingMondayFlag bit NOT NULL,
  CurrentWeekFlag bit NOT NULL,
  PriorWeekFlag bit NOT NULL,
  NextWeekFlag bit NOT NULL,
  CurrentMonthFlag bit NOT NULL,
  PriorMonthFlag bit NOT NULL,
  NextMonthFlag bit NOT NULL,
  CurrentQuarterFlag bit NOT NULL,
  PriorQuarterFlag bit NOT NULL,
  NextQuarterFlag bit NOT NULL,
  CurrentYearFlag bit NOT NULL,
  PriorYearFlag bit NOT NULL,
  NextYearFlag bit NOT NULL,
  WeekdayFlag bit NOT NULL,
  BusinessDayFlag bit NOT NULL,
  -- cusomize-holidays START
  CompanyHolidayFlag bit NOT NULL,
  USPublicHolidayFlag bit NOT NULL,
  -- customize-holidays END
  FirstDayOfMonthFlag bit NOT NULL,
  LastDayOfMonthFlag bit NOT NULL,
  FirstDayOfQuarterFlag bit NOT NULL,
  LastDayOfQuarterFlag bit NOT NULL,
  FirstDayOfYearFlag bit NOT NULL,
  LastDayOfYearFlag bit NOT NULL,
  FractionOfWeek decimal(5,4)
    CONSTRAINT chk_DimDate_FractionOfWeek CHECK (FractionOfWeek BETWEEN 0 AND 1)
    NOT NULL,
  FractionOfMonth decimal(5,4)
    CONSTRAINT chk_DimDate_FractionOfMonth CHECK (FractionOfMonth BETWEEN 0 AND 1)
    NOT NULL,
  FractionOfQuarter decimal(5,4)
    CONSTRAINT chk_DimDate_FractionOfQuarter CHECK (FractionOfQuarter BETWEEN 0 AND 1)
    NOT NULL,
  FractionOfYear decimal(5,4)
    CONSTRAINT chk_DimDate_FractionOfYear CHECK (FractionOfYear BETWEEN 0 AND 1)
    NOT NULL,
  PriorDay date NOT NULL,
  NextDay date NOT NULL,
  SameDayPriorWeek date NOT NULL,
  SameDayPriorMonth date NULL,
  SameDayPriorQuarter date NULL,
  SameDayPriorYear date NULL,
  SameDayNextWeek date NOT NULL,
  SameDayNextMonth date NULL,
  SameDayNextQuarter date NULL,
  SameDayNextYear date NULL,
  CurrentWeekStart date NOT NULL,
  CurrentWeekEnd date NOT NULL,
  CurrentMonthStart date NOT NULL,
  CurrentMonthEnd date NOT NULL,
  CurrentQuarterStart date NOT NULL,
  CurrentQuarterEnd date NOT NULL,
  CurrentYearStart date NOT NULL,
  CurrentYearEnd date NOT NULL,
  PriorWeekStart date NOT NULL,
  PriorWeekEnd date NOT NULL,
  PriorMonthStart date NOT NULL,
  PriorMonthEnd date NOT NULL,
  PriorQuarterStart date NOT NULL,
  PriorQuarterEnd date NOT NULL,
  PriorYearStart date NOT NULL,
  PriorYearEnd date NOT NULL,
  NextWeekStart date NOT NULL,
  NextWeekEnd date NOT NULL,
  NextMonthStart date NOT NULL,
  NextMonthEnd date NOT NULL,
  NextQuarterStart date NOT NULL,
  NextQuarterEnd date NOT NULL,
  NextYearStart date NOT NULL,
  NextYearEnd date NOT NULL,
  WeeklyBurnupStartingMonday bit NOT NULL,
  WeeklyBurnup bit NOT NULL,
  MonthlyBurnup bit NOT NULL,
  QuarterlyBurnup bit NOT NULL,
  YearlyBurnup bit NOT NULL,
  FiscalMonthName varchar(9) NOT NULL,
  FiscalMonthAbbrev varchar(3) NOT NULL,
  FiscalYearWeekName varchar(8) NOT NULL,
  FiscalYearMonthName varchar(7) NOT NULL,
  FiscalMonthYearName varchar(8) NOT NULL,
  FiscalYearQuarterName varchar(6) NOT NULL,
  FiscalYear int NOT NULL,
  FiscalYearWeek int NOT NULL,
  FiscalYearMonth int NOT NULL,
  FiscalYearQuarter int NOT NULL,
  FiscalDayOfMonth int NOT NULL,
  FiscalDayOfQuarter int NOT NULL,
  FiscalDayOfYear int NOT NULL,
  FiscalWeekOfQuarter int NOT NULL,
  FiscalWeekOfYear int NOT NULL,
  FiscalMonth int NOT NULL,
  FiscalMonthOfQuarter int NOT NULL,
  FiscalQuarter int NOT NULL,
  FiscalDaysInMonth int NOT NULL,
  FiscalDaysInQuarter int NOT NULL,
  FiscalDaysInYear int NOT NULL,
  FiscalCurrentMonthFlag bit NOT NULL,
  FiscalPriorMonthFlag bit NOT NULL,
  FiscalNextMonthFlag bit NOT NULL,
  FiscalCurrentQuarterFlag bit NOT NULL,
  FiscalPriorQuarterFlag bit NOT NULL,
  FiscalNextQuarterFlag bit NOT NULL,
  FiscalCurrentYearFlag bit NOT NULL,
  FiscalPriorYearFlag bit NOT NULL,
  FiscalNextYearFlag bit NOT NULL,
  FiscalFirstDayOfMonthFlag bit NOT NULL,
  FiscalLastDayOfMonthFlag bit NOT NULL,
  FiscalFirstDayOfQuarterFlag bit NOT NULL,
  FiscalLastDayOfQuarterFlag bit NOT NULL,
  FiscalFirstDayOfYearFlag bit NOT NULL,
  FiscalLastDayOfYearFlag bit NOT NULL,
  FiscalFractionOfMonth decimal(5,4)
    CONSTRAINT chk_DimDate_FiscalFractionOfMonth CHECK (FiscalFractionOfMonth BETWEEN 0 AND 1)
    NOT NULL,
  FiscalFractionOfQuarter decimal(5,4)
    CONSTRAINT chk_DimDate_FiscalFractionOfQuarter CHECK (FiscalFractionOfQuarter BETWEEN 0 AND 1)
    NOT NULL,
  FiscalFractionOfYear decimal(5,4)
    CONSTRAINT chk_DimDate_FiscalFractionOfYear CHECK (FiscalFractionOfYear BETWEEN 0 AND 1)
    NOT NULL,
  FiscalCurrentMonthStart date NOT NULL,
  FiscalCurrentMonthEnd date NOT NULL,
  FiscalCurrentQuarterStart date NOT NULL,
  FiscalCurrentQuarterEnd date NOT NULL,
  FiscalCurrentYearStart date NOT NULL,
  FiscalCurrentYearEnd date NOT NULL,
  FiscalPriorMonthStart date NOT NULL,
  FiscalPriorMonthEnd date NOT NULL,
  FiscalPriorQuarterStart date NOT NULL,
  FiscalPriorQuarterEnd date NOT NULL,
  FiscalPriorYearStart date NOT NULL,
  FiscalPriorYearEnd date NOT NULL,
  FiscalNextMonthStart date NOT NULL,
  FiscalNextMonthEnd date NOT NULL,
  FiscalNextQuarterStart date NOT NULL,
  FiscalNextQuarterEnd date NOT NULL,
  FiscalNextYearStart date NOT NULL,
  FiscalNextYearEnd date NOT NULL,
  FiscalMonthlyBurnup bit NOT NULL,
  FiscalQuarterlyBurnup bit NOT NULL,
  FiscalYearlyBurnup bit NOT NULL,
  -- customize-holidays START
  CompanyHolidayName varchar(255) NULL,
  USPublicHolidayName varchar(255) NULL
  -- customize-holidays END
);
